import React, { useState } from "react";
import "./Module.css";

function Module({ moduleItem }) {
  const [active, setActive] = useState(false);

  return (
    <div className="module">
      <div className="module-title" onClick={(e) => setActive(!active)}>
        <h1>
          Модуль-{moduleItem.id}: <span>{moduleItem.title}</span>
        </h1>
        {active ? (
          <svg
            className="module-svg"
            width="46"
            height="24"
            viewBox="0 0 46 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.00024 22.931L22.9313 0.999998L44.8623 22.931"
              stroke="#BABABA"
              strokeWidth="2"
              strokeMiterlimit="10"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        ) : (
          <svg
            className="module-svg"
            width="46"
            height="24"
            viewBox="0 0 46 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M44.9309 1.03448L22.9999 22.9655L1.06885 1.03448"
              stroke="#00CDC3"
              strokeWidth="2"
              strokeMiterlimit="10"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        )}
      </div>
      <div className={`module-content ${!active ? "hide" : ""}`}>
        {!!moduleItem.ulContent?.length && (
          <ul className="list-content">
            {moduleItem.ulContent.map((item) => {
              return <li>{item.title}</li>;
            })}
          </ul>
        )}
        {moduleItem.lessonCount && (
          <div>
            <p>
              <svg
                width="30"
                height="30"
                viewBox="0 0 30 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M15.0053 0.33065C6.92004 0.33065 0.328125 6.91323 0.328125 14.9971C0.328125 23.081 6.92137 29.6716 15.0053 29.6716C23.0892 29.6716 29.6691 23.081 29.6691 14.9971C29.6691 6.91323 23.0892 0.33065 15.0053 0.33065V0.33065ZM15.0053 2.99728C16.5817 2.99465 18.1432 3.30325 19.6001 3.9054C21.0571 4.50755 22.3808 5.39139 23.4954 6.50624C24.61 7.62109 25.4935 8.94501 26.0954 10.4021C26.6972 11.8591 27.0054 13.4207 27.0025 14.9971C27.0056 16.574 26.6975 18.136 26.0959 19.5936C25.4942 21.0512 24.6108 22.3757 23.4963 23.4912C22.3817 24.6068 21.058 25.4913 19.6009 26.0943C18.1439 26.6973 16.5822 27.0067 15.0053 27.005C13.4277 27.0069 11.8653 26.6977 10.4074 26.0949C8.9495 25.4922 7.62482 24.6078 6.5092 23.4924C5.39357 22.377 4.5089 21.0526 3.90584 19.5948C3.30278 18.1371 2.99318 16.5747 2.99476 14.9971C2.99476 8.35455 8.36269 2.99728 15.0053 2.99728V2.99728ZM14.9839 5.64525C14.8077 5.64698 14.6336 5.68363 14.4716 5.75308C14.3096 5.82253 14.163 5.92341 14.0402 6.04988C13.9175 6.17635 13.821 6.3259 13.7564 6.48988C13.6919 6.65386 13.6604 6.82902 13.664 7.00523V14.9971C13.6647 15.1726 13.7001 15.3462 13.768 15.5079C13.836 15.6697 13.9352 15.8164 14.0599 15.9398L19.3932 21.2757C19.5166 21.4027 19.664 21.5038 19.8268 21.5732C19.9897 21.6425 20.1647 21.6788 20.3418 21.6798C20.5188 21.6808 20.6942 21.6466 20.8579 21.5791C21.0215 21.5116 21.1701 21.4122 21.2949 21.2866C21.4197 21.1611 21.5183 21.012 21.5848 20.848C21.6514 20.684 21.6847 20.5083 21.6826 20.3313C21.6806 20.1543 21.6434 19.9795 21.5731 19.817C21.5028 19.6546 21.4008 19.5077 21.2732 19.3851L16.3333 14.4451V7.00523C16.3368 6.82655 16.3045 6.64897 16.2381 6.48305C16.1717 6.31713 16.0726 6.16626 15.9467 6.03939C15.8208 5.91252 15.6707 5.81225 15.5053 5.74454C15.34 5.67684 15.1626 5.64307 14.9839 5.64525Z"
                  fill="#255997"
                />
              </svg>
              {moduleItem.lessonCount}
            </p>
          </div>
        )}
        {moduleItem.result && (
          <div className="result-section">
            <div className="result-top">
              <svg
                width="96"
                height="80"
                viewBox="0 0 96 80"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M34.3419 79.58C33.8808 79.5801 33.4258 79.4739 33.0123 79.2696C32.5988 79.0653 32.238 78.7684 31.9579 78.402L1.59994 38.692C1.11825 38.0604 0.906701 37.2636 1.01168 36.4762C1.11666 35.6889 1.5296 34.9753 2.15994 34.492L15.4299 24.344C16.0618 23.8625 16.8588 23.6513 17.6461 23.7567C18.4335 23.862 19.1469 24.2754 19.6299 24.906L35.8459 46.106L77.6239 1.372C78.1669 0.790405 78.9186 0.448287 79.7137 0.420907C80.5088 0.393527 81.2823 0.683127 81.8639 1.226L94.0639 12.626C94.6455 13.1689 94.9877 13.9206 95.015 14.7158C95.0424 15.5109 94.7528 16.2844 94.2099 16.866L47.9079 66.45C47.3633 67.0245 46.6137 67.3604 45.8224 67.3846C45.0312 67.4088 44.2625 67.1192 43.6838 66.579C43.1051 66.0389 42.7633 65.2919 42.733 64.5009C42.7027 63.7098 42.9863 62.9389 43.5219 62.356L87.7859 14.966L79.9599 7.658L37.7999 52.8C37.5022 53.1188 37.1386 53.3687 36.7344 53.5326C36.3302 53.6964 35.8951 53.7701 35.4595 53.7486C35.0239 53.7271 34.5982 53.6109 34.2121 53.408C33.826 53.2051 33.4888 52.9205 33.2239 52.574L16.6839 30.926L8.17994 37.43L36.7219 74.758C37.0616 75.2023 37.2703 75.7326 37.3245 76.2891C37.3787 76.8457 37.2763 77.4063 37.0288 77.9078C36.7813 78.4092 36.3985 78.8315 35.9238 79.127C35.449 79.4225 34.9011 79.5794 34.3419 79.58V79.58Z"
                  fill="url(#paint0_linear_58_1494)"
                />
                <defs>
                  <linearGradient
                    id="paint0_linear_58_1494"
                    x1="48.0011"
                    y1="0.419128"
                    x2="48.0011"
                    y2="79.58"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stopColor="#3ACCC3" />
                    <stop offset="1" stopColor="#1B808A" />
                  </linearGradient>
                </defs>
              </svg>
              <p>Результат модуля:</p>
            </div>
            <div className="result-bottom">
              <p>{moduleItem.result}</p>
            </div>
          </div>
        )}
        {moduleItem.footerText && (
          <p className="footer-text">{moduleItem.footerText}</p>
        )}
      </div>
    </div>
  );
}

export default Module;
